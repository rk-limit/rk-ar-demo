<!doctype html>
<html lang="sk">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Izba ‚Äì menu</title>
  <style>
    body{font-family:system-ui,Arial;margin:0;background:#0b0d12;color:#fff}
    .wrap{max-width:720px;margin:0 auto;padding:24px}
    header{display:flex;align-items:center;gap:12px;margin-bottom:12px}
    header img{width:36px;height:36px}
    .card{background:#121521;border:1px solid #1e2230;border-radius:14px;padding:16px 18px;margin:12px 0}
    .card a{display:block;text-decoration:none;color:#fff;padding:12px 0}
    .card a span{opacity:.7;font-size:14px;display:block}
    .btn{display:inline-block;background:#1e90ff;border:0;color:#fff;padding:10px 14px;border-radius:10px;font-weight:700;text-decoration:none}
    .muted{opacity:.75}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <img src="logo.png" alt="Logo" onerror="this.style.display='none'">
      <h1 id="title">Jednotka</h1>
    </header>

    <div class="card">
      <a id="floorLink" target="_blank">üó∫Ô∏è Kompletn√Ω pl√°n poschodia <span>PDF s√∫bor</span></a>
      <a id="roomLink"  target="_blank">üìê Pl√°n tejto izby <span>PDF s vyznaƒçen√≠m</span></a>
      <a id="arLink">üß© Vizualiz√°cia (AR ‚Äì HIRO) <span>Otvor√≠ kameru</span></a>
      <a id="todoLink">‚úÖ To-Do list <span>√ölohy pre t√∫to izbu</span></a>
      <a id="panelLink" target="_blank">‚ö° Pl√°n rozv√°dzaƒça <span>PDF sch√©ma</span></a>
      <a id="photosLink">üì∏ Fotky miestnosti <span>Nahra≈• & prezera≈•</span></a>
    </div>

    <p class="muted">Ak sa nieƒço neotv√°ra, skontroluj, ƒçi v linku je spr√°vne <code>?room=...</code></p>
  </div>

  <script>
    const params = new URLSearchParams(location.search);
    const room = params.get('room');
    document.getElementById('title').textContent = room ? `Jednotka ${room}` : 'Jednotka (nezn√°ma)';

    async function boot(){
      if(!room){ alert('Ch√Ωba parameter ?room='); return; }
      const m = await fetch('rooms.json').then(r=>r.json());
      const cfg = m[room];
      if(!cfg){ alert('Nezn√°ma jednotka: ' + room); return; }

      document.getElementById('floorLink').href = cfg.floor_pdf;
      document.getElementById('roomLink').href  = cfg.room_pdf;
      document.getElementById('panelLink').href = cfg.panel_pdf;
      document.getElementById('arLink').href    = `ar/index.html?room=${encodeURIComponent(room)}`;
      document.getElementById('todoLink').href  = `todo/index.html?room=${encodeURIComponent(room)}`;
      document.getElementById('photosLink').href = `photos/index.html?room=${encodeURIComponent(room)}`;
    }
    boot();
  </script>
</body>
</html>

